<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{/layouts/base}">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" th:href="@{/css/myTrips.css}">
<title>λ‚΄ μ—¬ν–‰ κ΄€λ¦¬</title>
<th:block layout:fragment="head">
</th:block>
<script defer th:src="@{/js/travel.js}"></script>
</head>

<body>
			
  <div class="bg-gradient-custom min-vh-100" layout:fragment="content">
    <div class="container py-4">
      <!-- Page Header -->
      <div class="row mb-4">
        <div class="col-12">
          <h1 class="text-center mb-2">λ‚΄ μ—¬ν–‰ κ΄€λ¦¬</h1>
        </div>
      </div>

      

      <!-- Filter & Results -->
      <div class="row">
        
        <!-- Results Section -->
        <div class="col-lg-9">
          <!-- Results Header -->
          <!-- <div
            class="d-flex justify-content-between align-items-center mb-4">
            <div>
              <span class="search-result-count">μ΄ 24κ°</span>μ μ—¬ν–‰ μΌμ •μ„
              μ°Ύμ•μµλ‹λ‹¤
            </div>
            <div class="d-flex gap-2">
              <select class="form-select form-select-sm"
                style="width: auto;">
                <option>μµμ‹ μ</option>
                <option>μΈκΈ°μ</option>
                <option>λ§κ°μ„λ°•μ</option>
                <option>ν‰μ μ</option>
              </select>
            </div>
          </div> -->

          <!-- Schedule Cards -->
          <div class="row g-4">
            <!-- Schedule Card 1 -->
        <h3 id="my-registered-trips">λ“±λ΅ν• μ—¬ν–‰</h3>
             <div class="col-12">
              <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img
                      src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=250&fit=crop"
                      class="img-fluid rounded-start h-100 object-fit-cover"
                      alt="λ„μΏ„">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title mb-0">π—Ό λ„μΏ„ 3λ°•4μΌ λ¨Ήλ°©
                          μ—¬ν–‰</h5>
                        <span class="badge region-badge">λ„μΏ„</span>
                      </div>

                      <div class="date-range mb-2">
                        <i class="bi bi-calendar-event me-1"></i> 2025λ…„ 12μ›” μ¤‘ (2~5μΌκ°„)
                      </div>

                      <p class="card-text text-muted mb-3">λ„μΏ„μ μ¨μ€
                        λ§›μ§‘λ“¤μ„ μ°Ύμ•„λ‹¤λ‹λ” μ§„μ§ λ¨Ήλ°© μ—¬ν–‰! ν„μ§€μΈλ§ μ•„λ” λΌλ©μ§‘λ¶€ν„° λ―Έμλ¦° λ μ¤ν† λ‘κΉμ§€ ν•¨κ»
                        μ¦κ²¨μ”.</p>

                      <div class="mb-3">
                        <span class="badge schedule-tag me-1">μ‹λ„λ½</span>
                        <span class="badge schedule-tag me-1">ν„μ§€μ²΄ν—</span>
                        <span class="badge schedule-tag me-1">μ†μμ •μ</span>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="participants-info p-2 rounded">
                            
						<div class="status-info js-participants-toggle">
						    <i class="bi bi-people-fill me-1">3/6λ…</i> μ°Έμ—¬ μ¤‘
						</div>
                          </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                          <div
                            class="d-flex gap-2 justify-content-md-end">
                            <button
                              class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</button>
                            <button
                              class="btn btn-wakutabi-primary btn-sm">μμ •</button>
                            <button class="btn btn-wakutabi-primary btn-sm btn-manage" data-trip-id="123">
					            μ‹ μ²­ κ΄€λ¦¬
					        </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="applicants-container collapse mt-2"></div>
            </div>
            
            <section id="my-registered-trips" class="mb-5">
    <div th:if="${#lists.isEmpty(registeredTrips)}" class="alert alert-info" role="alert">
        μ•„μ§ λ“±λ΅ν• μ—¬ν–‰ μΌμ •μ΄ μ—†μµλ‹λ‹¤.
    </div>

    <div th:each="trip : ${registeredTrips}" class="mb-4">
        <div class="col-12">
            <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                    <div class="col-md-4">
    <img
        th:src="${trip.mainImagePath} ?: '/image/default_trip.jpg'"
        class="img-fluid rounded-start object-fit-cover"
        th:alt="${trip.title}" > </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0" th:text="${trip.title}">π—Ό λ„μΏ„ 3λ°•4μΌ λ¨Ήλ°© μ—¬ν–‰</h5>
                                <span class="badge region-badge" th:text="${trip.location}">λ„μΏ„</span>
                            </div>

                            <div class="date-range mb-2">
                                <i class="bi bi-calendar-event me-1"></i> 
                                <span th:text="${#temporals.format(trip.startDate, 'yyyyλ…„ MMμ›” ddμΌ')}">2025λ…„ 12μ›” 02μΌ</span>
                                ~ 
                                <span th:text="${#temporals.format(trip.endDate, 'MMμ›” ddμΌ')}">12μ›” 05μΌ</span>
                            </div>
                            
                            <p class="card-text text-muted mb-3">μ—¬ν–‰ μ”μ•½μ΄λ‚ κ°„λ‹¨ν• λ‚΄μ©μ΄ ν‘μ‹λ  κ³µκ°„μ…λ‹λ‹¤.</p>

                            <div class="mb-3">
                                <span class="badge schedule-tag me-1">#νƒκ·Έμμ‹</span>
                            </div>

                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <div class="participants-info p-2 rounded">
                                        <div class="status-info js-participants-toggle">
                                            <i class="bi bi-people-fill me-1"></i> 
                                            <span th:text="|μ°Έμ—¬ μ¤‘ ${trip.currentParticipants}/${trip.maxParticipants}λ…|">3/6λ… μ°Έμ—¬ μ¤‘</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 text-md-end">
                                    <div class="d-flex gap-2 justify-content-md-end">
                                        <a th:href="@{'/schedule/' + ${trip.id}}" class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</a>
                                        <a th:href="@{'/schedule/edit/' + ${trip.id}}" class="btn btn-wakutabi-primary btn-sm">μμ •</a>
                                        <button class="btn btn-wakutabi-primary btn-sm btn-manage" 
                                                th:data-trip-id="${trip.id}" 
                                                data-bs-toggle="collapse" 
                                                th:data-bs-target="|#applicant-${trip.id}|">
                                            μ‹ μ²­ κ΄€λ¦¬
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div th:id="|${'applicant-' + trip.id}|" class="applicants-container collapse mt-2">
                </div>
        </div>
    </div>
</section>


            <button id="loadMoreRegistered" 
			        class="btn btn-outline-secondary py-2 mt-3">
			  <i class="bi bi-arrow-down-circle me-2"></i> μ—¬ν–‰ λ”λ³΄κΈ°
			</button>
            <!--Schedule Card 2  -->
            <h3 id="my-applied-trips">μ‹ μ²­ν• μ—¬ν–‰</h3>
            <div class="col-12">
              <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img
                      src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&h=250&fit=crop"
                      class="img-fluid rounded-start h-100 object-fit-cover"
                      alt="κµν† ">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title mb-0">π›οΈ κµν†  μ „ν†µ λ¬Έν™” μ²΄ν—</h5>
                        <span class="badge region-badge">κµν† </span>
                      </div>

                      <div class="date-range mb-2">
                        <i class="bi bi-calendar-event me-1"></i> 2024λ…„
                        12μ›” μ¤‘ (3μΌκ°„)
                      </div>

                      <p class="card-text text-muted mb-3">κµν† μ μ „ν†µ
                        λ¬Έν™”λ¥Ό κΉμ΄ μ²΄ν—ν•λ” μ—¬ν–‰. κΈ°λ¨λ…Έ μ²΄ν—, λ‹¤λ„, μ „ν†µ κ³µμ λ“± μΌλ³Έμ μ§„μ§ λ¬Έν™”λ¥Ό
                        λ§λ‚λ³΄μ„Έμ”.</p>

                      <div class="mb-3">
                        <span class="badge schedule-tag me-1">λ¬Έν™”</span>
                        <span class="badge schedule-tag me-1">μ²΄ν—</span>
                        <span class="badge schedule-tag me-1">μ „ν†µ</span>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="participants-info p-2 rounded">
                            <small> <i class="bi bi-people me-1"></i>
                              <strong>5/8λ…</strong> μ°Έμ—¬ μ¤‘
                            </small>
                          </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                          <div
                            class="d-flex gap-2 justify-content-md-end">
                            <button
                              class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</button>
                            <button
                              class="btn btn-wakutabi-warning btn-sm">μ‹ μ²­ μ·¨μ†</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <div class="col-12">
              <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img
                      src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&h=250&fit=crop"
                      class="img-fluid rounded-start h-100 object-fit-cover"
                      alt="κµν† ">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title mb-0">π›οΈ κµν†  μ „ν†µ λ¬Έν™” μ²΄ν—</h5>
                        <span class="badge region-badge">κµν† </span>
                      </div>

                      <div class="date-range mb-2">
                        <i class="bi bi-calendar-event me-1"></i> 2024λ…„
                        12μ›” μ¤‘ (3μΌκ°„)
                      </div>

                      <p class="card-text text-muted mb-3">κµν† μ μ „ν†µ
                        λ¬Έν™”λ¥Ό κΉμ΄ μ²΄ν—ν•λ” μ—¬ν–‰. κΈ°λ¨λ…Έ μ²΄ν—, λ‹¤λ„, μ „ν†µ κ³µμ λ“± μΌλ³Έμ μ§„μ§ λ¬Έν™”λ¥Ό
                        λ§λ‚λ³΄μ„Έμ”.</p>

                      <div class="mb-3">
                        <span class="badge schedule-tag me-1">λ¬Έν™”</span>
                        <span class="badge schedule-tag me-1">μ²΄ν—</span>
                        <span class="badge schedule-tag me-1">μ „ν†µ</span>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="participants-info p-2 rounded">
                            <small> <i class="bi bi-people me-1"></i>
                              <strong>5/8λ…</strong> μ°Έμ—¬ μ¤‘
                            </small>
                          </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                          <div
                            class="d-flex gap-2 justify-content-md-end">
                            <button
                              class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</button>
                            <button
                              class="btn btn-wakutabi-warning btn-sm">μ‹ μ²­ μ·¨μ†</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <div class="col-12">
              <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img
                      src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&h=250&fit=crop"
                      class="img-fluid rounded-start h-100 object-fit-cover"
                      alt="κµν† ">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title mb-0">π›οΈ κµν†  μ „ν†µ λ¬Έν™” μ²΄ν—</h5>
                        <span class="badge region-badge">κµν† </span>
                      </div>

                      <div class="date-range mb-2">
                        <i class="bi bi-calendar-event me-1"></i> 2024λ…„
                        12μ›” μ¤‘ (3μΌκ°„)
                      </div>

                      <p class="card-text text-muted mb-3">κµν† μ μ „ν†µ
                        λ¬Έν™”λ¥Ό κΉμ΄ μ²΄ν—ν•λ” μ—¬ν–‰. κΈ°λ¨λ…Έ μ²΄ν—, λ‹¤λ„, μ „ν†µ κ³µμ λ“± μΌλ³Έμ μ§„μ§ λ¬Έν™”λ¥Ό
                        λ§λ‚λ³΄μ„Έμ”.</p>

                      <div class="mb-3">
                        <span class="badge schedule-tag me-1">λ¬Έν™”</span>
                        <span class="badge schedule-tag me-1">μ²΄ν—</span>
                        <span class="badge schedule-tag me-1">μ „ν†µ</span>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="participants-info p-2 rounded">
                            <small> <i class="bi bi-people me-1"></i>
                              <strong>5/8λ…</strong> μ°Έμ—¬ μ¤‘
                            </small>
                          </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                          <div
                            class="d-flex gap-2 justify-content-md-end">
                            <button
                              class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</button>
                            <button
                              class="btn btn-wakutabi-warning btn-sm">μ‹ μ²­ μ·¨μ†</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <div class="col-12">
              <div class="card schedule-card border-0 shadow-sm">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img
                      src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&h=250&fit=crop"
                      class="img-fluid rounded-start h-100 object-fit-cover"
                      alt="κµν† ">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title mb-0">π›οΈ κµν†  μ „ν†µ λ¬Έν™” μ²΄ν—</h5>
                        <span class="badge region-badge">κµν† </span>
                      </div>

                      <div class="date-range mb-2">
                        <i class="bi bi-calendar-event me-1"></i> 2024λ…„
                        12μ›” μ¤‘ (3μΌκ°„)
                      </div>

                      <p class="card-text text-muted mb-3">κµν† μ μ „ν†µ
                        λ¬Έν™”λ¥Ό κΉμ΄ μ²΄ν—ν•λ” μ—¬ν–‰. κΈ°λ¨λ…Έ μ²΄ν—, λ‹¤λ„, μ „ν†µ κ³µμ λ“± μΌλ³Έμ μ§„μ§ λ¬Έν™”λ¥Ό
                        λ§λ‚λ³΄μ„Έμ”.</p>

                      <div class="mb-3">
                        <span class="badge schedule-tag me-1">λ¬Έν™”</span>
                        <span class="badge schedule-tag me-1">μ²΄ν—</span>
                        <span class="badge schedule-tag me-1">μ „ν†µ</span>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="participants-info p-2 rounded">
                            <small> <i class="bi bi-people me-1"></i>
                              <strong>5/8λ…</strong> μ°Έμ—¬ μ¤‘
                            </small>
                          </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                          <div
                            class="d-flex gap-2 justify-content-md-end">
                            <button
                              class="btn btn-wakutabi-outline btn-sm">μƒμ„Έλ³΄κΈ°</button>
                            <button
                              class="btn btn-wakutabi-warning btn-sm">μ‹ μ²­ μ·¨μ†</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <button id="loadMoreRegistered" 
			        class="btn btn-outline-secondary py-2 mt-3">
			  <i class="bi bi-arrow-down-circle me-2"></i> μ—¬ν–‰ λ”λ³΄κΈ°
			</button>

        </div>
      </div>
      
      <!-- Sidebar Filters -->
        <div class="col-lg-3 mb-4">
           <!--  Search Input -->
           <div class="filter-section p-3 shadow-sm sticky-top">
            <div class="row mb-3">
              <div class="col-12">
              <form id="searchForm" action="/schedule/myTrips" method="get">
                <div class="input-group pb-3"> 
                  <span class="input-group-text bg-white border-end-0">
                    <i class="bi bi-search text-primary"></i>
                  </span> 
                  <input type="text"
                    class="form-control border-start-0 ps-0"
                    placeholder="μ—¬ν–‰μ§€ κ²€μƒ‰" id="searchInput"
                    name="keyward" th:value="${query}">
                  <button class="btn btn-wakutabi-primary px-4"
                    type="submit">
                    <i class="bi bi-search me-2"></i>κ²€μƒ‰
                  </button>
                </div>
                <div class="filter-section p-3 shadow mb-4">
              <h5 class="mb-3">λ°”λ΅ κ°€κΈ°</h5>
              <div class="d-grid gap-2">
                  <a href="#my-registered-trips" class="btn btn-wakutabi-primary">
                      <i class="bi bi-airplane-fill me-2"></i> λ“±λ΅ν• μ—¬ν–‰
                  </a>
                  <a href="#my-applied-trips" class="btn btn-outline-secondary">
                      <i class="bi bi-file-earmark-check me-2"></i> μ‹ μ²­ν• μ—¬ν–‰
                  </a>
              </div>
          </div>
         </form>
          </div>
            </div>
          </div>
        </div>
      
    </div>
  </div>
  </div>
</body>
</html>